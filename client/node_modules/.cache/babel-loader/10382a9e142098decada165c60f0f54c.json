{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Evalds\\\\Documents\\\\Portfolio_1\\\\client\\\\src\\\\context\\\\orders\\\\OrderState.js\";\nimport { GET_ORDERS, GET_ORDERS_ERROR, CLEAR_ORDER_ERROR } from '../types';\nimport React, { useReducer } from 'react';\nimport OrderContext from './orderContext';\nimport orderReducer from './orderReducer';\nimport axios from 'axios';\naxios.defaults.withCredentials = true;\n\nconst OrderState = props => {\n  const initialState = {\n    orders: [],\n    orderError: null,\n    loading: true\n  };\n  const [state, dispatch] = useReducer(orderReducer, initialState);\n\n  const getOrders = async () => {\n    try {\n      const res = await axios.get(`/api/v1/orders/getorders`);\n      dispatch({\n        type: GET_ORDERS,\n        payload: res.data.data\n      });\n    } catch (error) {\n      dispatch({\n        type: GET_ORDERS_ERROR,\n        payload: error.response.data\n      });\n      clearError();\n    }\n  };\n\n  const clearError = () => {\n    setTimeout(() => dispatch({\n      type: CLEAR_ORDER_ERROR\n    }), 5000);\n  };\n\n  return /*#__PURE__*/React.createElement(OrderContext.Provider, {\n    value: {\n      orders: state.orders,\n      orderError: state.error,\n      loading: state.loading,\n      getOrders\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, props.children);\n};\n\nexport default OrderState;","map":{"version":3,"sources":["C:/Users/Evalds/Documents/Portfolio_1/client/src/context/orders/OrderState.js"],"names":["GET_ORDERS","GET_ORDERS_ERROR","CLEAR_ORDER_ERROR","React","useReducer","OrderContext","orderReducer","axios","defaults","withCredentials","OrderState","props","initialState","orders","orderError","loading","state","dispatch","getOrders","res","get","type","payload","data","error","response","clearError","setTimeout","children"],"mappings":";AAAA,SAASA,UAAT,EAAqBC,gBAArB,EAAuCC,iBAAvC,QAAgE,UAAhE;AACA,OAAOC,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACAA,KAAK,CAACC,QAAN,CAAeC,eAAf,GAAiC,IAAjC;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAC5B,QAAMC,YAAY,GAAG;AACnBC,IAAAA,MAAM,EAAE,EADW;AAEnBC,IAAAA,UAAU,EAAE,IAFO;AAGnBC,IAAAA,OAAO,EAAE;AAHU,GAArB;AAMA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,UAAU,CAACE,YAAD,EAAeM,YAAf,CAApC;;AAEA,QAAMM,SAAS,GAAG,YAAY;AAC5B,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAW,0BAAX,CAAlB;AACAH,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAErB,UAAR;AAAoBsB,QAAAA,OAAO,EAAEH,GAAG,CAACI,IAAJ,CAASA;AAAtC,OAAD,CAAR;AACD,KAHD,CAGE,OAAOC,KAAP,EAAc;AACdP,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAEpB,gBAAR;AAA0BqB,QAAAA,OAAO,EAAEE,KAAK,CAACC,QAAN,CAAeF;AAAlD,OAAD,CAAR;AACAG,MAAAA,UAAU;AACX;AACF,GARD;;AASA,QAAMA,UAAU,GAAG,MAAM;AACvBC,IAAAA,UAAU,CAAC,MAAMV,QAAQ,CAAC;AAAEI,MAAAA,IAAI,EAAEnB;AAAR,KAAD,CAAf,EAA8C,IAA9C,CAAV;AACD,GAFD;;AAIA,sBACE,oBAAC,YAAD,CAAc,QAAd;AACE,IAAA,KAAK,EAAE;AACLW,MAAAA,MAAM,EAAEG,KAAK,CAACH,MADT;AAELC,MAAAA,UAAU,EAAEE,KAAK,CAACQ,KAFb;AAGLT,MAAAA,OAAO,EAAEC,KAAK,CAACD,OAHV;AAILG,MAAAA;AAJK,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQGP,KAAK,CAACiB,QART,CADF;AAYD,CAlCD;;AAoCA,eAAelB,UAAf","sourcesContent":["import { GET_ORDERS, GET_ORDERS_ERROR, CLEAR_ORDER_ERROR } from '../types';\r\nimport React, { useReducer } from 'react';\r\nimport OrderContext from './orderContext';\r\nimport orderReducer from './orderReducer';\r\nimport axios from 'axios';\r\naxios.defaults.withCredentials = true;\r\n\r\nconst OrderState = (props) => {\r\n  const initialState = {\r\n    orders: [],\r\n    orderError: null,\r\n    loading: true,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(orderReducer, initialState);\r\n\r\n  const getOrders = async () => {\r\n    try {\r\n      const res = await axios.get(`/api/v1/orders/getorders`);\r\n      dispatch({ type: GET_ORDERS, payload: res.data.data });\r\n    } catch (error) {\r\n      dispatch({ type: GET_ORDERS_ERROR, payload: error.response.data });\r\n      clearError();\r\n    }\r\n  };\r\n  const clearError = () => {\r\n    setTimeout(() => dispatch({ type: CLEAR_ORDER_ERROR }), 5000);\r\n  };\r\n\r\n  return (\r\n    <OrderContext.Provider\r\n      value={{\r\n        orders: state.orders,\r\n        orderError: state.error,\r\n        loading: state.loading,\r\n        getOrders,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </OrderContext.Provider>\r\n  );\r\n};\r\n\r\nexport default OrderState;\r\n"]},"metadata":{},"sourceType":"module"}