{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Evalds\\\\Documents\\\\Portfolio_1\\\\client\\\\src\\\\components\\\\items\\\\item\\\\SingleItem.js\";\nimport React, { Fragment, useEffect, useContext, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Search from '../../selector/Search';\nimport ReactStars from 'react-stars';\nimport AuthContext from '../../../context/auth/authContext';\nimport ProductContext from '../../../context/products/productContext';\nimport AlertContext from '../../../context/alert/alertContext';\nimport BasketContext from '../../../context/basket/basketContext';\nimport M from 'materialize-css';\nimport AddImages from '../../admin/AddImages';\nimport ItemCard from './ItemCard';\n\nfunction SingleItem({\n  match\n}) {\n  const alertContext = useContext(AlertContext);\n  const basketContext = useContext(BasketContext);\n  const {\n    addToBasket\n  } = basketContext;\n  const {\n    setAlert\n  } = alertContext;\n  const authContext = useContext(AuthContext);\n  const productContext = useContext(ProductContext);\n  const {\n    role\n  } = authContext;\n  const {\n    getProduct,\n    product,\n    removeProduct,\n    loading,\n    addImages\n  } = productContext;\n  let url = '';\n  useEffect(() => {\n    const options = {\n      numVisible: 5\n    };\n    var elems = document.querySelectorAll('.carousel');\n    M.Carousel.init(elems, options);\n  }, []);\n  const [image, setImage] = useState(false);\n  useEffect(() => {\n    getProduct(match.params.id);\n    return () => {\n      removeProduct();\n    };\n  }, []);\n  useEffect(() => {\n    setImage(false);\n  }, [addImages]);\n\n  const showImageInput = () => {\n    setImage(true);\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col m12 s12 l12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"carousel-item\",\n    href: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: product === null || product === void 0 ? void 0 : product.photo[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"carousel-item\",\n    href: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: product === null || product === void 0 ? void 0 : product.photo[1],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"carousel-item\",\n    href: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: product === null || product === void 0 ? void 0 : product.photo[2],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  })), !(product === null || product === void 0 ? void 0 : product.photo) && /*#__PURE__*/React.createElement(\"a\", {\n    className: \"carousel-item\",\n    href: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://1080motion.com/wp-content/uploads/2018/06/NoImageFound.jpg.png\",\n    alt: \"Product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }\n  })))))), image && /*#__PURE__*/React.createElement(AddImages, {\n    id: match.params.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ItemCard, {\n    id: match.params,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default SingleItem;","map":{"version":3,"sources":["C:/Users/Evalds/Documents/Portfolio_1/client/src/components/items/item/SingleItem.js"],"names":["React","Fragment","useEffect","useContext","useState","Link","Search","ReactStars","AuthContext","ProductContext","AlertContext","BasketContext","M","AddImages","ItemCard","SingleItem","match","alertContext","basketContext","addToBasket","setAlert","authContext","productContext","role","getProduct","product","removeProduct","loading","addImages","url","options","numVisible","elems","document","querySelectorAll","Carousel","init","image","setImage","params","id","showImageInput","photo"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useContext, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Search from '../../selector/Search';\r\nimport ReactStars from 'react-stars';\r\nimport AuthContext from '../../../context/auth/authContext';\r\nimport ProductContext from '../../../context/products/productContext';\r\nimport AlertContext from '../../../context/alert/alertContext';\r\nimport BasketContext from '../../../context/basket/basketContext';\r\nimport M from 'materialize-css';\r\nimport AddImages from '../../admin/AddImages';\r\nimport ItemCard from './ItemCard';\r\nfunction SingleItem({ match }) {\r\n  const alertContext = useContext(AlertContext);\r\n  const basketContext = useContext(BasketContext);\r\n  const { addToBasket } = basketContext;\r\n  const { setAlert } = alertContext;\r\n  const authContext = useContext(AuthContext);\r\n  const productContext = useContext(ProductContext);\r\n  const { role } = authContext;\r\n  const {\r\n    getProduct,\r\n    product,\r\n    removeProduct,\r\n    loading,\r\n    addImages,\r\n  } = productContext;\r\n\r\n  let url = '';\r\n  useEffect(() => {\r\n    const options = { numVisible: 5 };\r\n    var elems = document.querySelectorAll('.carousel');\r\n    M.Carousel.init(elems, options);\r\n  }, []);\r\n  const [image, setImage] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getProduct(match.params.id);\r\n    return () => {\r\n      removeProduct();\r\n    };\r\n  }, []);\r\n  useEffect(() => {\r\n    setImage(false);\r\n  }, [addImages]);\r\n  const showImageInput = () => {\r\n    setImage(true);\r\n  };\r\n  \r\n  return (\r\n    <Fragment>\r\n      <Search />\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col m12 s12 l12\">\r\n            <div className=\"carousel\">\r\n              <a className=\"carousel-item\" href={url}>\r\n                <img src={product?.photo[0]} />\r\n              </a>\r\n              <a className=\"carousel-item\" href={url}>\r\n                <img src={product?.photo[1]} />\r\n              </a>\r\n              <a className=\"carousel-item\" href={url}>\r\n                <img src={product?.photo[2]} />\r\n              </a>\r\n\r\n              {!product?.photo && (\r\n                <a className=\"carousel-item\" href={url}>\r\n                  <img\r\n                    src=\"https://1080motion.com/wp-content/uploads/2018/06/NoImageFound.jpg.png\"\r\n                    alt=\"Product\"\r\n                  />\r\n                </a>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {image && <AddImages id={match.params.id} />}\r\n\r\n      <ItemCard id={match.params}/>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default SingleItem;\r\n"]},"metadata":{},"sourceType":"module"}